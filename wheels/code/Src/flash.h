#ifndef __FLASH_H
#define __FLASH_H

#include <stdint.h>
#include "assert.h"

#define FLASH_SECTOR0_SIZE (16 * 1024)
#define FLASH_SECTOR1_SIZE (16 * 1024)
#define FLASH_SECTOR2_SIZE (16 * 1024)
#define FLASH_SECTOR3_SIZE (16 * 1024)
#define FLASH_SECTOR4_SIZE (64 * 1024)
#define FLASH_SECTOR5_SIZE (128 * 1024)
#define FLASH_SECTOR6_SIZE (128 * 1024)
#define FLASH_SECTOR7_SIZE (128 * 1024)

#define FLASH_SECTOR0_ADDR 0x08000000
#define FLASH_SECTOR1_ADDR 0x08004000
#define FLASH_SECTOR2_ADDR 0x08008000
#define FLASH_SECTOR3_ADDR 0x0800C000
#define FLASH_SECTOR4_ADDR 0x08010000
#define FLASH_SECTOR5_ADDR 0x08020000
#define FLASH_SECTOR6_ADDR 0x08040000
#define FLASH_SECTOR7_ADDR 0x08060000

static_assert((FLASH_SECTOR1_ADDR - FLASH_SECTOR0_ADDR) == FLASH_SECTOR0_SIZE,
              "FLASH_SECTOR0_SIZE");
static_assert((FLASH_SECTOR2_ADDR - FLASH_SECTOR1_ADDR) == FLASH_SECTOR1_SIZE,
              "FLASH_SECTOR1_SIZE");
static_assert((FLASH_SECTOR3_ADDR - FLASH_SECTOR2_ADDR) == FLASH_SECTOR2_SIZE,
              "FLASH_SECTOR2_SIZE");
static_assert((FLASH_SECTOR4_ADDR - FLASH_SECTOR3_ADDR) == FLASH_SECTOR3_SIZE,
              "FLASH_SECTOR3_SIZE");
static_assert((FLASH_SECTOR5_ADDR - FLASH_SECTOR4_ADDR) == FLASH_SECTOR4_SIZE,
              "FLASH_SECTOR4_SIZE");
static_assert((FLASH_SECTOR6_ADDR - FLASH_SECTOR5_ADDR) == FLASH_SECTOR5_SIZE,
              "FLASH_SECTOR5_SIZE");
static_assert((FLASH_SECTOR7_ADDR - FLASH_SECTOR6_ADDR) == FLASH_SECTOR6_SIZE,
              "FLASH_SECTOR6_SIZE");

void flash_memcpy_u32(void *src, void *dst, uint32_t size);
void flash_erase_sector(uint32_t sector);

#endif
